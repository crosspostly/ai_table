# üìÅ File Structure Rules - –ì–î–ï –°–û–ó–î–ê–í–ê–¢–¨ –ù–û–í–´–ï –§–ê–ô–õ–´

## ‚ùó –í–ê–ñ–ù–û: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

GitHub Actions **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –ø—Ä–∏ –¥–µ–ø–ª–æ–µ:

```
table/shared/*.gs  ‚Üí  table/server/*.gs  (–¥–ª—è server –ø—Ä–æ–µ–∫—Ç–∞)
                   ‚Üí  table/client/*.gs  (–¥–ª—è client –ø—Ä–æ–µ–∫—Ç–∞)

table/web/*.gs     ‚Üí  table/client/*.gs  (–¥–ª—è UI –≤ Apps Script)
table/web/*.html   ‚Üí  table/client/*.html
```

## üìÇ –ì–¥–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ù–û–í–´–ï —Ñ–∞–π–ª—ã:

### 1. `table/shared/` - –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (–¥–æ—Å—Ç—É–ø–Ω—ã –≤–µ–∑–¥–µ)

**–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–¥–µ—Å—å:**
- ‚úÖ –£—Ç–∏–ª–∏—Ç—ã (Utils.gs, Constants.gs)
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (LoggingService.gs, GoogleSheetsLogger.gs)
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Validation —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –õ—é–±–æ–π –∫–æ–¥ –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–µ–Ω –ò –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –ò –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

**–ü—Ä–∏–º–µ—Ä—ã:**
```
table/shared/Utils.gs           ‚Üí –∞–≤—Ç–æ–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ client/ –∏ server/
table/shared/LoggingService.gs  ‚Üí –∞–≤—Ç–æ–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ client/ –∏ server/
table/shared/Constants.gs       ‚Üí –∞–≤—Ç–æ–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ client/ –∏ server/
```

**‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–¥–µ—Å—å:**
- UI –ª–æ–≥–∏–∫—É (—ç—Ç–æ –≤ web/)
- Server-only —Ñ—É–Ω–∫—Ü–∏–∏ (—ç—Ç–æ –≤ server/)
- Client-only —Ñ—É–Ω–∫—Ü–∏–∏ (—ç—Ç–æ –≤ client/)

---

### 2. `table/web/` - UI –∏ HTML –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

**–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–¥–µ—Å—å:**
- ‚úÖ HTML —Ñ–∞–π–ª—ã –¥–ª—è dialog/sidebar
- ‚úÖ .gs —Ñ–∞–π–ª—ã —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è UI
- ‚úÖ JavaScript/CSS –∫–æ–¥ –≤ HTML
- ‚úÖ –õ—é–±—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–ü—Ä–∏–º–µ—Ä—ã:**
```
table/web/CollectConfigUI.gs    ‚Üí –∞–≤—Ç–æ–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ client/
table/web/CollectConfigUI.html  ‚Üí –∞–≤—Ç–æ–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ client/
table/web/LogViewer.gs          ‚Üí –∞–≤—Ç–æ–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ client/
table/web/WebInterface.html     ‚Üí –∞–≤—Ç–æ–∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ client/
```

**‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–¥–µ—Å—å:**
- Server –ª–æ–≥–∏–∫—É
- API –≤—ã–∑–æ–≤—ã –∫ –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º
- –†–∞–±–æ—Ç—É —Å PropertiesService (—Å–µ–∫—Ä–µ—Ç—ã)

---

### 3. `table/client/` - Client-Side Logic (–¢–û–õ–¨–ö–û –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ–π –ª–æ–≥–∏–∫–∏!)

**–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–¥–µ—Å—å –¢–û–õ–¨–ö–û:**
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –º–µ–Ω—é (Menu.gs)
- ‚úÖ Client-side –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (ClientUtilities.gs)
- ‚úÖ Triggers (onOpen, onEdit)
- ‚úÖ –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é –ª–æ–≥–∏–∫—É –∫–æ—Ç–æ—Ä–∞—è –ù–ï –≤ web/ –∏ –ù–ï –≤ shared/

**–ü—Ä–∏–º–µ—Ä—ã:**
```
table/client/Menu.gs               ‚Üê –¢–æ–ª—å–∫–æ –∑–¥–µ—Å—å (–Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è)
table/client/ClientUtilities.gs    ‚Üê –¢–æ–ª—å–∫–æ –∑–¥–µ—Å—å (–Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è)
table/client/SmartPromptProcessor.gs ‚Üê –¢–æ–ª—å–∫–æ –∑–¥–µ—Å—å (–Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è)
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:**
- –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–¥–µ—Å—å UI —Ñ–∞–π–ª—ã (–æ–Ω–∏ –≤ web/)!
- –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–¥–µ—Å—å shared —É—Ç–∏–ª–∏—Ç—ã (–æ–Ω–∏ –≤ shared/)!
- Workflow –ù–ï –∫–æ–ø–∏—Ä—É–µ—Ç —Ñ–∞–π–ª—ã –ò–ó client/ –Ω–∏–∫—É–¥–∞

---

### 4. `table/server/` - Server-Side Logic (API, PropertiesService, —Å–µ–∫—Ä–µ—Ç—ã)

**–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–¥–µ—Å—å:**
- ‚úÖ –í—ã–∑–æ–≤—ã –≤–Ω–µ—à–Ω–∏—Ö API (Gemini, VK, etc.)
- ‚úÖ –†–∞–±–æ—Ç–∞ —Å PropertiesService (credentials)
- ‚úÖ –¢—è–∂—ë–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- ‚úÖ Backend –ª–æ–≥–∏–∫–∞

**–ü—Ä–∏–º–µ—Ä—ã:**
```
table/server/ConfigurationManager.gs  ‚Üê –¢–æ–ª—å–∫–æ –∑–¥–µ—Å—å (–Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è)
table/server/GeminiService.gs         ‚Üê –¢–æ–ª—å–∫–æ –∑–¥–µ—Å—å (–Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è)
table/server/ServerEndpoints.gs       ‚Üê –¢–æ–ª—å–∫–æ –∑–¥–µ—Å—å (–Ω–µ –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è)
```

**‚ùå –ù–ï —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –∑–¥–µ—Å—å:**
- UI –ª–æ–≥–∏–∫—É
- Menu —Ñ—É–Ω–∫—Ü–∏–∏
- onOpen/onEdit triggers

---

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

### –ü—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ GitHub Actions:

```bash
# 1. –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∞–≤—Ç–æ–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
üóëÔ∏è  –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ shared/*.gs –∏–∑ client/
üóëÔ∏è  –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ shared/*.gs –∏–∑ server/
üóëÔ∏è  –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ web/*.gs –∏ web/*.html –∏–∑ client/

# 2. –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–≤–µ–∂–∏—Ö —Ñ–∞–π–ª–æ–≤
üìã –ö–æ–ø–∏—Ä—É–µ—Ç –í–°–ï table/shared/*.gs ‚Üí table/server/
üìã –ö–æ–ø–∏—Ä—É–µ—Ç –í–°–ï table/shared/*.gs ‚Üí table/client/
üìã –ö–æ–ø–∏—Ä—É–µ—Ç –í–°–ï table/web/*.gs ‚Üí table/client/
üìã –ö–æ–ø–∏—Ä—É–µ—Ç –í–°–ï table/web/*.html ‚Üí table/client/

# 3. –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ clasp
üöÄ clasp push –¥–ª—è server/ (Apps Script Server)
üöÄ clasp push –¥–ª—è client/ (Apps Script Client)
```

---

## ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è:

### –ü—Ä–∏–º–µ—Ä 1: –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
table/shared/MyNewLogger.gs

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥—ë—Ç –≤ client/ –∏ server/
```

### –ü—Ä–∏–º–µ—Ä 2: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π UI dialog

```bash
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
table/web/MyDialog.gs         # –§—É–Ω–∫—Ü–∏—è openMyDialog()
table/web/MyDialog.html        # HTML —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥—ë—Ç –≤ client/ –¥–ª—è Apps Script
```

### –ü—Ä–∏–º–µ—Ä 3: –î–æ–±–∞–≤–∏—Ç—å server endpoint

```bash
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
table/server/MyApiService.gs

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –æ—Å—Ç–∞–Ω–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ server/, –Ω–µ –ø–æ–ø–∞–¥—ë—Ç –≤ client
```

### –ü—Ä–∏–º–µ—Ä 4: –î–æ–±–∞–≤–∏—Ç—å –ø—É–Ω–∫—Ç –º–µ–Ω—é

```bash
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
table/client/Menu.gs           # –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ client/, –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ web/ –∏–ª–∏ server/
```

---

## ‚ùå –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:

### ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
```bash
table/client/LogViewer.gs      # UI –ª–æ–≥–∏–∫–∞ –ù–ï –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–¥–µ—Å—å!
table/client/MyDialog.html     # HTML –ù–ï –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–¥–µ—Å—å!
table/server/MenuUtils.gs      # Menu –ª–æ–≥–∏–∫–∞ –ù–ï –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!
```

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
```bash
table/web/LogViewer.gs         # UI –ª–æ–≥–∏–∫–∞ ‚Üí –≤ web/
table/web/MyDialog.html        # HTML ‚Üí –≤ web/
table/client/Menu.gs           # Menu ‚Üí –≤ client/
```

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª—Å—è:

### 1. –õ–æ–∫–∞–ª—å–Ω–æ –ø–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞:
```bash
git log --oneline -1   # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–∫–æ–º–º–∏—Ç–∏–ª–∏
```

### 2. –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –Ω–∞ GitHub:
```
https://github.com/crosspostly/ai_table/actions
‚Üí –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ Deploy to Google Apps Script
‚Üí –ò—â–µ–º —Å—Ç—Ä–æ–∫–∏:
   "‚úÖ Copied X shared files to client/"
   "‚úÖ Copied X web files to client/"
```

### 3. –í Apps Script Editor:
```
Extensions ‚Üí Apps Script
‚Üí Files —Å–ª–µ–≤–∞ - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑:
  - client/
  - shared/ (—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
  - web/ (—Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
```

---

## üöÄ Quick Reference:

| –ß—Ç–æ —Å–æ–∑–¥–∞—ë—Ç–µ | –ö—É–¥–∞ –∫–ª–∞—Å—Ç—å | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|-------------|-------------|-----------|
| –£—Ç–∏–ª–∏—Ç—ã (–æ–±—â–∏–µ) | `table/shared/` | ‚Üí client/ + server/ |
| UI (HTML + .gs) | `table/web/` | ‚Üí client/ |
| –ú–µ–Ω—é, triggers | `table/client/` | –û—Å—Ç–∞—ë—Ç—Å—è –≤ client/ |
| API, credentials | `table/server/` | –û—Å—Ç–∞—ë—Ç—Å—è –≤ server/ |

---

## üí° –°–æ–≤–µ—Ç:

**–ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—Ç–µ—Å—å –∫—É–¥–∞ –∫–ª–∞—Å—Ç—å —Ñ–∞–π–ª - —Å–ø—Ä–æ—Å–∏—Ç–µ —Å–µ–±—è:**

1. –≠—Ç–æ UI? ‚Üí `table/web/`
2. –≠—Ç–æ –Ω—É–∂–Ω–æ –≤–µ–∑–¥–µ? ‚Üí `table/shared/`
3. –≠—Ç–æ —Ç–æ–ª—å–∫–æ client-side? ‚Üí `table/client/`
4. –≠—Ç–æ —Ç–æ–ª—å–∫–æ server-side? ‚Üí `table/server/`

**Workflow —Å–∞–º –≤—Å—ë —Å–∫–æ–ø–∏—Ä—É–µ—Ç –∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!** üéâ
