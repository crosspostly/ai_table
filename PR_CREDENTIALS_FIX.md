# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è getClientCredentials() –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ configureSocialImport()

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –∏–º–ø–æ—Ä—Ç–∞ –ø–æ—Å—Ç–æ–≤

–ò–º–ø–æ—Ä—Ç –ø–æ—Å—Ç–æ–≤ –∏–∑ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π **–Ω–µ —Ä–∞–±–æ—Ç–∞–ª** –∏–∑-–∑–∞:

1. **–¢—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `getClientCredentials()`:**
   - `table/client/CredentialsManager.gs` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ok: true/false, ...}`
   - `table/client/ThinClient.gs` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{valid: true/false, ...}` + —Ç—Ä–µ–±—É–µ—Ç GEMINI_API_KEY
   - `table/web/WebInterfaceExtensions.gs` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ok: true/false, ...}` + —Ç—Ä–µ–±—É–µ—Ç GEMINI_API_KEY

2. **Google Apps Script –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–ª —Ñ—É–Ω–∫—Ü–∏–∏:**
   - –ü–æ—Ä—è–¥–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º
   - –ü–æ—Å–ª–µ–¥–Ω—è—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è –ø–æ–±–µ–∂–¥–∞–µ—Ç
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: –∏–Ω–æ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏–Ω–æ–≥–¥–∞ –Ω–µ—Ç

3. **–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö:**
   - `SocialImportClient.gs` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç `credentials.ok`
   - –ù–æ –µ—Å–ª–∏ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å –≤–µ—Ä—Å–∏—è –∏–∑ `ThinClient.gs`, –æ–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `credentials.valid`
   - –†–µ–∑—É–ª—å—Ç–∞—Ç: `credentials.ok === undefined` ‚Üí –∏–º–ø–æ—Ä—Ç –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è

4. **–õ–æ–∂–Ω–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ GEMINI_API_KEY:**
   - –ò–º–ø–æ—Ä—Ç –ø–æ—Å—Ç–æ–≤ **–ù–ï —Ç—Ä–µ–±—É–µ—Ç** Gemini API –∫–ª—é—á (—Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)
   - –ù–æ `ThinClient.gs` –∏ `WebInterfaceExtensions.gs` –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –∏–º–ø–æ—Ä—Ç –±–µ–∑ –Ω–µ–≥–æ
   - –ù–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —Å—Ç–∞—Ä–æ–π —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏

5. **–û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è `configureSocialImport()`:**
   - –ú–µ–Ω—é –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é
   - –û—à–∏–±–∫–∞: "–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ —Ñ—É–Ω–∫—Ü–∏—é —Å–∫—Ä–∏–ø—Ç–∞: configureSocialImport"

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è `getClientCredentials()` –≤ CredentialsManager.gs

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –û—Å—Ç–∞–≤–ª–µ–Ω–∞ **–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è** –≤ `CredentialsManager.gs`
- –î–æ–±–∞–≤–ª–µ–Ω—ã **alias-–ø–æ–ª—è** –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏:
  ```javascript
  return {
    ok: true,
    valid: true,              // Alias –¥–ª—è ThinClient –∏ —Ç–µ—Å—Ç–æ–≤
    email: email,
    token: token,
    apiKey: apiKey,
    geminiApiKey: apiKey      // Alias –¥–ª—è ThinClient
  };
  ```
- –ò–º–ø–æ—Ä—Ç –ø–æ—Å—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç **—Ç–æ–ª—å–∫–æ email –∏ token** (GEMINI_API_KEY –æ–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω)
- –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π:
  - **–ò–º–ø–æ—Ä—Ç –ø–æ—Å—Ç–æ–≤:** —Ç–æ–ª—å–∫–æ `email` + `token`
  - **AI —Ñ—É–Ω–∫—Ü–∏–∏ (GM):** `email` + `token` + `apiKey`

### 2. –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

**–£–¥–∞–ª–µ–Ω–æ –∏–∑:**
- `table/client/ThinClient.gs` ‚Äî –∑–∞–º–µ–Ω–µ–Ω–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º-–∑–∞–≥–ª—É—à–∫–æ–π
- `table/web/WebInterfaceExtensions.gs` ‚Äî –∑–∞–º–µ–Ω–µ–Ω–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º-–∑–∞–≥–ª—É—à–∫–æ–π

**–ü—Ä–∏—á–∏–Ω–∞ —É–¥–∞–ª–µ–Ω–∏—è:**
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- –õ–æ–∂–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è GEMINI_API_KEY

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ `testCredentialsRetrieval()`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `table/tests/TestSuite.gs`:**
```javascript
function testCredentialsRetrieval() {
  var creds = getClientCredentials();
  // –û–ë–ù–û–í–õ–ï–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –û–ë–û–ò–• –ø–æ–ª–µ–π (ok –∏ valid) –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
  return creds && 
         typeof creds.ok === 'boolean' && 
         typeof creds.valid === 'boolean' &&
         creds.ok === creds.valid;  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é
}
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ `configureSocialImport()`

**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≤ `table/client/Menu.gs`:**
- UI –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–º–ø–æ—Ä—Ç–∞
- –°–æ–∑–¥–∞—ë—Ç –ª–∏—Å—Ç "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã" –µ—Å–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç:
  1. **–ò—Å—Ç–æ—á–Ω–∏–∫** (URL –∏–ª–∏ username)
  2. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Å—Ç–æ–≤** (1-100)
  3. **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è)
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —è—á–µ–π–∫–∏ B1, B2, C1
- –õ–æ–≥–∏—Ä—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
1. –ú–µ–Ω—é ‚Üí üì± –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ ‚Üí üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ü—Å–µ—Ç–µ–π
2. –í–≤–æ–¥–∏–º –∏—Å—Ç–æ—á–Ω–∏–∫: `https://vk.com/username`
3. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: `30`
4. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: (–ø—É—Å—Ç–æ –¥–ª—è –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è)
5. –ú–µ–Ω—é ‚Üí üì± –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏ ‚Üí üì± –ò–º–ø–æ—Ä—Ç –ø–æ—Å—Ç–æ–≤

---

## üìä –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
```
üîç SYNTAX VALIDATION FOR GOOGLE APPS SCRIPT FILES
============================================================
‚úÖ Passed: 65/65 —Ñ–∞–π–ª–æ–≤
‚ùå Failed: 0
üìÅ Total:  65
============================================================
‚úÖ ALL FILES HAVE VALID SYNTAX!
```

### ‚úÖ –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `table/client/CredentialsManager.gs` ‚Äî —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
- `table/client/ThinClient.gs` ‚Äî —É–¥–∞–ª–µ–Ω–∞ –¥—É–±–ª–∏—Ä—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- `table/web/WebInterfaceExtensions.gs` ‚Äî —É–¥–∞–ª–µ–Ω–∞ –¥—É–±–ª–∏—Ä—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è
- `table/tests/TestSuite.gs` ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω —Ç–µ—Å—Ç
- `table/client/Menu.gs` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è

### ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
```
 5 files changed, 151 insertions(+), 94 deletions(-)
```

---

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- [x] ‚úÖ –ò–º–ø–æ—Ä—Ç –ø–æ—Å—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç **–±–µ–∑ GEMINI_API_KEY**
- [x] ‚úÖ –§—É–Ω–∫—Ü–∏—è `getClientCredentials()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç **—Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ**
- [x] ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ **–µ–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–∞** (–æ–±–∞ –ø–æ–ª—è: `ok` –∏ `valid`)
- [x] ‚úÖ –¢–µ—Å—Ç—ã `testCredentialsRetrieval()` –ø—Ä–æ—Ö–æ–¥—è—Ç
- [x] ‚úÖ –ú–µ–Ω—é "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ü—Å–µ—Ç–µ–π" —Ä–∞–±–æ—Ç–∞–µ—Ç (–¥–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è)
- [x] ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≤–∞–ª–∏–¥–µ–Ω (65/65)

---

## üìã –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –î–æ –∏ –ü–æ—Å–ª–µ

| –ê—Å–ø–µ–∫—Ç | –î–æ | –ü–æ—Å–ª–µ |
|--------|-----|-------|
| **–§—É–Ω–∫—Ü–∏–π `getClientCredentials`** | 3 (–∫–æ–Ω—Ñ–ª–∏–∫—Ç) | 1 (—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞) |
| **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞** | `{ok: ...}` **–∏–ª–∏** `{valid: ...}` | `{ok: ..., valid: ..., ...}` (–æ–±–∞ –ø–æ–ª—è) |
| **–¢—Ä–µ–±—É–µ—Ç GEMINI_API_KEY –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞?** | ‚úÖ –î–∞ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ) | ‚ùå –ù–µ—Ç (–ø—Ä–∞–≤–∏–ª—å–Ω–æ) |
| **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –∫–ª–∏–µ–Ω—Ç–æ–º** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ—Å—Ç–∞–º–∏** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| **–ò–º–ø–æ—Ä—Ç –ø–æ—Å—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç?** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |
| **–§—É–Ω–∫—Ü–∏—è `configureSocialImport()`** | ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ |

---

## üöÄ –î–µ–ø–ª–æ–π

–ü–æ—Å–ª–µ –º–µ—Ä–∂–∞ PR:
1. GitHub Actions –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. –û–±–Ω–æ–≤—è—Ç—Å—è CLIENT –∏ SERVER –ø—Ä–æ–µ–∫—Ç—ã
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥—É—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç—ã

---

## üìù –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

- **Fixes:** –ò–º–ø–æ—Ä—Ç –ø–æ—Å—Ç–æ–≤ –∏–∑ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π
- **Refs:** #diagnose-import-issue

---

## üë• Reviewer checklist

- [ ] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –ù–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Ä—É—á–Ω—É—é

---

**–ê–≤—Ç–æ—Ä:** Droid (Factory AI)  
**–î–∞—Ç–∞:** 2025-10-11  
**–í–µ—Ç–∫–∞:** `fix/unify-credentials-function`  
**–ë–∞–∑–∞:** `web-interface-with-design`
