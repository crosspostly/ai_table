# üö® –°–†–û–ß–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø –¢–†–ï–ë–£–Æ–¢–°–Ø!

## –î–∞—Ç–∞: 2025-10-08
## –°—Ç–∞—Ç—É—Å: –ö–†–ò–¢–ò–ß–ù–û - –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ

---

## ‚úÖ **–ß–¢–û –£–ñ–ï –°–î–ï–õ–ê–ù–û (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):**

### 1. OAuth Scope –¥–ª—è Web Interface - –ò–°–ü–†–ê–í–õ–ï–ù–û ‚úÖ
- `appsscript.json` —Ç–µ–ø–µ—Ä—å –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≤ `table/client/` –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º
- Scope `script.container.ui` –±—É–¥–µ—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º deploy
- **–°—Ç–∞—Ç—É—Å:** –ñ–¥–µ—Ç –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ GitHub Actions

### 2. Security Check - –î–û–ë–ê–í–õ–ï–ù ‚úÖ
- Workflow –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —á—Ç–æ server —Ñ–∞–π–ª—ã –ù–ï –ø–æ–ø–∞–¥–∞—é—Ç –≤ client
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ñ–∏–ª—å—Ç—Ä –ø—Ä–∏ –¥–µ–ø–ª–æ–µ
- **–°—Ç–∞—Ç—É—Å:** –†–∞–±–æ—Ç–∞–µ—Ç —Å —ç—Ç–æ–≥–æ –∫–æ–º–º–∏—Ç–∞

### 3. –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ - –°–û–ó–î–ê–ù–´ ‚úÖ
- `ButtonFunctions.gs` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `table/client/`
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- **–°—Ç–∞—Ç—É—Å:** –ñ–¥–µ—Ç –¥–µ–ø–ª–æ—è

---

## ‚ö†Ô∏è **–ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨ –í–†–£–ß–ù–£–Æ:**

### –î–ï–ô–°–¢–í–ò–ï 1: –£–¥–∞–ª–∏—Ç—å server —Ñ–∞–π–ª—ã –∏–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ üö®

**–ü–û–ß–ï–ú–£ –ö–†–ò–¢–ò–ß–ù–û:** –í –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–¥ (—É—Ç–µ—á–∫–∞ IP!)

**–ö–ê–ö –ò–°–ü–†–ê–í–ò–¢–¨:**

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ clasp —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:**
   ```bash
   npm install -g @google/clasp
   ```

2. **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å:**
   ```bash
   clasp login
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –æ—á–∏—Å—Ç–∫–∏:**
   ```bash
   node clean-client-project.js
   ```
   
   –°–∫—Ä–∏–ø—Ç:
   - –ö–ª–æ–Ω–∏—Ä—É–µ—Ç client project
   - –ù–∞–π–¥–µ—Ç –≤—Å–µ server —Ñ–∞–π–ª—ã
   - –ü–æ–∫–∞–∂–µ—Ç —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ
   - –ü–æ–¥–æ–∂–¥–µ—Ç 5 —Å–µ–∫—É–Ω–¥ –¥–ª—è –æ—Ç–º–µ–Ω—ã (Ctrl+C)
   - –£–¥–∞–ª–∏—Ç server —Ñ–∞–π–ª—ã
   - –ó–∞–≥—Ä—É–∑–∏—Ç —á–∏—Å—Ç—É—é –≤–µ—Ä—Å–∏—é –æ–±—Ä–∞—Ç–Ω–æ

#### –í–∞—Ä–∏–∞–Ω—Ç B: –í—Ä—É—á–Ω—É—é (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Apps Script Editor:**
   ```
   https://script.google.com/home/projects/1DdlYfvo0EfEA1O1nb5DRI0o-WJoIivtfIPNSE1C1bt3IvvWC91sGE6Xs/edit
   ```

2. **–£–¥–∞–ª–∏—Ç–µ –í–°–ï —Ñ–∞–π–ª—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `server/`:**
   - server/RulesEngine.gs
   - server/ServerEndpoints.gs
   - server/SimpleLicenseService.gs
   - server/SmartChainService.gs
   - server/SocialImportService.gs
   - server/SourceDetector.gs
   - server/TableLicenseService.gs
   - server/TelegramImportService.gs
   - server/TriggerManager.gs
   - server/ValidationService.gs
   - server/VkImportService.gs

3. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ** (Ctrl+S)

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –æ—Å—Ç–∞–ª–∏—Å—å –¢–û–õ–¨–ö–û:**
   - ButtonFunctions.gs ‚¨ÖÔ∏è –ù–û–í–´–ô!
   - ChatMode.gs
   - ClientUtilities.gs
   - GeminiClient.gs
   - Menu.gs
   - SmartPromptProcessor.gs
   - SocialImportClient.gs
   - ThinClient.gs
   - Constants.gs
   - LoggingService.gs
   - Utils.gs
   - WebInterface.gs
   - appsscript.json

---

### –î–ï–ô–°–¢–í–ò–ï 2: –î–æ–∂–¥–∞—Ç—å—Å—è –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ GitHub Actions

**–ó–∞—á–µ–º:** appsscript.json —Å –Ω–æ–≤—ã–º–∏ OAuth scopes –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://github.com/crosspostly/ai_table/actions
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è workflow "Deploy to Google Apps Script"
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å—Ç–∞—Ç—É—Å ‚úÖ Success

---

### –î–ï–ô–°–¢–í–ò–ï 3: –ü—Ä–∏–≤—è–∑–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∫ –∫–Ω–æ–ø–∫–∞–º

**–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:**

1. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à Google Sheets**

2. **–î–ª—è –∫–Ω–æ–ø–∫–∏ "–í–∂—É—Ö" (–ª–∏—Å—Ç —Å VK —Å—Å—ã–ª–∫–æ–π):**
   - –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É
   - "Assign script" (–∏–ª–∏ "–ù–∞–∑–Ω–∞—á–∏—Ç—å —Å–∫—Ä–∏–ø—Ç")
   - –í–≤–µ–¥–∏—Ç–µ: `btnVzhuh`
   - –ù–∞–∂–º–∏—Ç–µ OK

3. **–î–ª—è –∫–Ω–æ–ø–∫–∏ "–†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å—Å—è" (–ª–∏—Å—Ç "–†–∞—Å–ø–∞–∫–æ–≤–∫–∞", —è—á–µ–π–∫–∞ A1):**
   - –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É
   - "Assign script"
   - –í–≤–µ–¥–∏—Ç–µ: `btnRaspakovatsa`
   - –ù–∞–∂–º–∏—Ç–µ OK

4. **–î–ª—è –∫–Ω–æ–ø–∫–∏ –Ω–∞ –ª–∏—Å—Ç–µ "–û—Ç–∑—ã–≤—ã" (—è—á–µ–π–∫–∞ A3):**
   - –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É
   - "Assign script"
   - –í–≤–µ–¥–∏—Ç–µ: `btnProcessReviews`
   - –ù–∞–∂–º–∏—Ç–µ OK

**–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π:**
- `btnVzhuh` - –∏–º–ø–æ—Ä—Ç VK –ø–æ—Å—Ç–æ–≤
- `btnRaspakovatsa` - —Ä–∞—Å–ø–∞–∫–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- `btnProcessReviews` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∑—ã–≤–æ–≤ (OCR)
- `btnProcessData` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- `btnRunAnalysis` - –∑–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞
- `btnClearFormulas` - –æ—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—É–ª
- `btnTest` - —Ç–µ—Å—Ç–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞

---

### –î–ï–ô–°–¢–í–ò–ï 4: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Web Interface

**–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Google Sheets
2. –ú–µ–Ω—é "ü§ñ Table AI" ‚Üí "üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å"
3. **–î–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –ë–ï–ó –æ—à–∏–±–∫–∏!**

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ deploy –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ appsscript.json –∑–∞–≥—Ä—É–∂–µ–Ω
- ‚úÖ –°–¥–µ–ª–∞–π—Ç–µ hard refresh (Ctrl+F5)

---

## üìã **–ß–ï–ö–õ–ò–°–¢ –í–´–ü–û–õ–ù–ï–ù–ò–Ø:**

- [ ] **1. –£–¥–∞–ª–∏—Ç—å server —Ñ–∞–π–ª—ã –∏–∑ client** (node clean-client-project.js –ò–õ–ò –≤—Ä—É—á–Ω—É—é)
- [ ] **2. –î–æ–∂–¥–∞—Ç—å—Å—è —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è** (GitHub Actions)
- [ ] **3. –ü—Ä–∏–≤—è–∑–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –∫ –∫–Ω–æ–ø–∫–∞–º** (Assign script)
- [ ] **4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Web Interface** (–¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è)
- [ ] **5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏** (–≤—Å–µ –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å)

---

## üÜò **–ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢:**

### Web Interface –≤—Å–µ –µ—â–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É OAuth:
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ
2. –û—Ç–∫—Ä–æ–π—Ç–µ Apps Script Editor
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ appsscript.json —Å–æ–¥–µ—Ä–∂–∏—Ç:
   ```json
   "oauthScopes": [
     "https://www.googleapis.com/auth/script.container.ui"
   ]
   ```
4. –°–¥–µ–ª–∞–π—Ç–µ re-authorization:
   - –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª—é–±—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏–∑ –º–µ–Ω—é
   - –†–∞–∑—Ä–µ—à–∏—Ç–µ –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### –ö–Ω–æ–ø–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ ButtonFunctions.gs –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ –ø—Ä–æ–µ–∫—Ç–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∏–º–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏
3. –û—Ç–∫—Ä–æ–π—Ç–µ Logs (View ‚Üí Logs) –¥–ª—è –æ—à–∏–±–æ–∫

### Server —Ñ–∞–π–ª—ã –≤—Å–µ –µ—â–µ –≤ client:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: `node clean-client-project.js`
2. –ò–õ–ò —É–¥–∞–ª–∏—Ç–µ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ Apps Script Editor
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏

---

## üìû **–ö–û–ù–¢–ê–ö–¢–´:**

–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ EMERGENCY_FIX.md –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ GitHub Actions
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Apps Script Editor ‚Üí View ‚Üí Logs

---

**–ü–†–ò–û–†–ò–¢–ï–¢: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô**  
**–°–†–û–ß–ù–û–°–¢–¨: –ù–ï–ú–ï–î–õ–ï–ù–ù–ê–Ø**  
**–°–¢–ê–¢–£–°: –û–ñ–ò–î–ê–ï–¢ –î–ï–ô–°–¢–í–ò–ô –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø**

**–°–æ–∑–¥–∞–Ω–æ:** 2025-10-08  
**–ö–æ–º–º–∏—Ç:** 41b2696
