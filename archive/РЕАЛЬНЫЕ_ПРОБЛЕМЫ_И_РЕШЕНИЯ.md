# üö® –†–ï–ê–õ–¨–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –ö–ê–ö –ò–• –ò–°–ü–†–ê–í–ò–¢–¨

## –î–∞—Ç–∞: 2025-10-08
## –°—Ç–∞—Ç—É—Å: –ö–†–ò–¢–ò–ß–ù–û - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π –ù–ï –†–ê–ë–û–¢–ê–Æ–¢

---

## ‚ùå **–ü–†–û–ë–õ–ï–ú–ê 1: "–ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã credentials: undefined"**

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å "–ê–Ω–∞–ª–∏–∑ –ø–æ—Å—Ç–æ–≤" –∏–ª–∏ –ª—é–±—É—é –¥—Ä—É–≥—É—é —Ñ—É–Ω–∫—Ü–∏—é, —Ç—Ä–µ–±—É—é—â—É—é –ª–∏—Ü–µ–Ω–∑–∏–∏

### –ü–†–ò–ß–ò–ù–ê:
–§—É–Ω–∫—Ü–∏—è `getClientCredentials()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `undefined` –µ—Å–ª–∏:
1. –ù–ï —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã LICENSE_EMAIL –∏ LICENSE_TOKEN
2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –≤ Script Properties

### ‚úÖ –†–ï–®–ï–ù–ò–ï:

#### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å credentials
```
1. –ú–µ–Ω—é "ü§ñ Table AI" ‚Üí "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏" ‚Üí "üîê –õ–∏—Ü–µ–Ω–∑–∏—è: Email + –¢–æ–∫–µ–Ω"
2. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à email
3. –í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω –ª–∏—Ü–µ–Ω–∑–∏–∏
```

#### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª–æ—Å—å
```
1. Apps Script Editor ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∞ —Å–ª–µ–≤–∞)
2. Script Properties
3. –î–æ–ª–∂–Ω—ã –±—ã—Ç—å:
   - LICENSE_EMAIL = –≤–∞—à email
   - LICENSE_TOKEN = –≤–∞—à —Ç–æ–∫–µ–Ω
```

#### –®–∞–≥ 3: –ï—Å–ª–∏ credentials –Ω–µ—Ç
**–ü–†–û–ë–õ–ï–ú–ê:** –í—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ë–ï–ó –ª–∏—Ü–µ–Ω–∑–∏–∏!

**–í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
```javascript
// –í Constants.gs –¥–æ–±–∞–≤–∏—Ç—å:
var DEV_BYPASS_LICENSE = true; // –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ª–∏—Ü–µ–Ω–∑–∏–∏
```

---

## ‚ùå **–ü–†–û–ë–õ–ï–ú–ê 2: OCR –æ—à–∏–±–∫–∞ "–ê—Ä–≥—É–º–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º: prompt"**

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ "–ê–Ω–∞–ª–∏–∑ –æ—Ç–∑—ã–≤–æ–≤" (OCR) –æ—à–∏–±–∫–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –°–†–ê–ó–£

### –ü–†–ò–ß–ò–ù–ê:
OCR —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç `ocrReviewsThin()` ‚Üí —Ç–∞ –≤—ã–∑—ã–≤–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä ‚Üí —Å–µ—Ä–≤–µ—Ä —Ç—Ä–µ–±—É–µ—Ç:
- URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –∫–æ–ª–æ–Ω–∫–µ A
- –ü–†–ê–í–ò–õ–¨–ù–´–ô —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –ß–¢–û –î–ï–õ–ê–¢–¨:

#### 1. –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è OCR:
```
–ö–æ–ª–æ–Ω–∫–∞ A: URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
https://example.com/image1.jpg
https://example.com/image2.png
```

#### 2. –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã OCR:
1. –ß–∏—Ç–∞–µ—Ç URL –∏–∑ –∫–æ–ª–æ–Ω–∫–∏ A
2. –°–∫–∞—á–∏–≤–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ Gemini Vision API
4. –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Ç–µ–∫—Å—Ç
5. –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∫–æ–ª–æ–Ω–∫—É B

#### 3. –ü–†–û–ë–õ–ï–ú–ê –° –¢–ï–ö–£–©–ò–ú –ö–û–î–û–ú:
OCR **–ù–ï –î–û–õ–ñ–ï–ù –ü–†–ò–î–£–ú–´–í–ê–¢–¨** —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ! –û–Ω –¥–æ–ª–∂–µ–Ω:
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å **–†–ï–ê–õ–¨–ù–´–ô** —Ç–µ–∫—Å—Ç —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è ‚Üí –æ—à–∏–±–∫–∞
- –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç–∞ –Ω–µ—Ç ‚Üí "–¢–µ–∫—Å—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω"

---

## ‚ùå **–ü–†–û–ë–õ–ï–ú–ê 3: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏**

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
"‚ùå –û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è: –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É: –ê—Ä–≥—É–º–µ–Ω—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º: prompt"

### –ü–†–ò–ß–ò–ù–ê:
1. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—ã—Ç–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –≤—ã–∑–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä
2. –ù–ï –∂–¥–µ—Ç –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–¥–µ—Ç –¥–∞–Ω–Ω—ã–µ
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ü–£–°–¢–û–ô –∑–∞–ø—Ä–æ—Å ‚Üí –æ—à–∏–±–∫–∞

### ‚úÖ –†–ï–®–ï–ù–ò–ï:
–ù—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å `WebInterface.gs`:
```javascript
// –ù–ï –≤—ã–∑—ã–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
// –¢–æ–ª—å–∫–æ –ø–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É
// –í—ã–∑—ã–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –¢–û–õ–¨–ö–û –ø–æ –∫–Ω–æ–ø–∫–µ
```

---

## ‚ùå **–ü–†–û–ë–õ–ï–ú–ê 4: DEV —Ñ—É–Ω–∫—Ü–∏–∏ "–¢–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ"**

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
–ú–µ–Ω—é "üß∞ DEV" ‚Üí "üß™ –¢–µ—Å—Ç—ã" ‚Üí –°–æ–æ–±—â–µ–Ω–∏–µ "–¢–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ"

### –ü–†–ò–ß–ò–ù–ê:
```javascript
function callServerTestFunction() {
  // –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –í–´–ó–´–í–ê–ï–¢ –°–ï–†–í–ï–†
  // –ù–æ —Ç–µ—Å—Ç—ã –î–û–õ–ñ–ù–´ –±—ã—Ç—å –≤ CLIENT!
}
```

### ‚úÖ –ß–¢–û –î–ï–õ–ê–¢–¨:

#### –í–∞—Ä–∏–∞–Ω—Ç A: –¢–µ—Å—Ç—ã –≤ CLIENT (–ª–æ–∫–∞–ª—å–Ω—ã–µ)
```javascript
function runClientTests() {
  // –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ CLIENT
  testGeminiClient();
  testMenu();
  testChatMode();
  // ...
}
```

#### –í–∞—Ä–∏–∞–Ω—Ç B: –¢–µ—Å—Ç—ã –Ω–∞ SERVER (—á–µ—Ä–µ–∑ API)
```javascript
function callServerTests() {
  var response = callServer({
    action: 'run_tests',
    // ...
  });
  // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
}
```

**–ü–†–û–ë–õ–ï–ú–ê:** –°–µ–π—á–∞—Å —Ñ—É–Ω–∫—Ü–∏—è –¢–û–õ–¨–ö–û –ü–û–ö–ê–ó–´–í–ê–ï–¢ –°–û–û–ë–©–ï–ù–ò–ï, –Ω–æ –ù–ï –ó–ê–ü–£–°–ö–ê–ï–¢ –¢–ï–°–¢–´!

---

## ‚ùå **–ü–†–û–ë–õ–ï–ú–ê 5: –ß–∞—Ç –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç - A2 ‚Üí B2 –Ω–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è**

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
1. –ê–∫—Ç–∏–≤–∏—Ä—É–µ—à—å —Ä–µ–∂–∏–º —á–∞—Ç–∞
2. –ü–∏—à–µ—à—å –≤ A2
3. –í B2 –ù–ò

–ß–ï–ì–û –ù–ï –ü–û–Ø–í–õ–Ø–ï–¢–°–Ø

### –ü–†–ò–ß–ò–ù–ê:
–¢—Ä–∏–≥–≥–µ—Ä `onChatEdit` **–ù–ï –†–ê–ë–û–¢–ê–ï–¢** –ø–æ—Ç–æ–º—É —á—Ç–æ:

1. **–ù–ï–¢ –õ–ò–°–¢–ê "–ß–∞—Ç":**
```javascript
if (sheet.getName() !== CHAT_SETTINGS.CHAT_SHEET_NAME) return;
// CHAT_SETTINGS.CHAT_SHEET_NAME = '–ß–∞—Ç'
// –ï—Å–ª–∏ –ª–∏—Å—Ç–∞ –Ω–µ—Ç ‚Üí —Ç—Ä–∏–≥–≥–µ—Ä –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç
```

2. **–ù–ï TOM –õ–ò–°–¢–ï –ø–∏—à–µ—à—å:**
–¢—Ä–∏–≥–≥–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –¢–û–õ–¨–ö–û –Ω–∞ –ª–∏—Å—Ç–µ "–ß–∞—Ç"!

3. **–¢–†–ò–ì–ì–ï–† –ù–ï –£–°–¢–ê–ù–û–í–õ–ï–ù:**
```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Apps Script:
// –†–µ–¥–∞–∫—Ç–æ—Ä ‚Üí –¢—Ä–∏–≥–≥–µ—Ä—ã (–±—É–¥–∏–ª—å–Ω–∏–∫ —Å–ª–µ–≤–∞)
// –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: onChatEdit ‚Üí onEdit
```

### ‚úÖ –†–ï–®–ï–ù–ò–ï:

#### –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–∞—Ç –ü–†–ê–í–ò–õ–¨–ù–û
```
1. –ú–µ–Ω—é "ü§ñ Table AI" ‚Üí "üß† –†–µ–∂–∏–º —á–∞—Ç–∞"
2. –î–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å—Å—è –ª–∏—Å—Ç "–ß–∞—Ç"
3. –ù–∞ –ª–∏—Å—Ç–µ "–ß–∞—Ç" –≤ A1: "üí¨ –í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ"
4. –í A2 –ø–∏—à–µ—à—å ‚Üí B2 –¥–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å
```

#### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä
```
Apps Script Editor ‚Üí –¢—Ä–∏–≥–≥–µ—Ä—ã ‚Üí –î–æ–ª–∂–µ–Ω –±—ã—Ç—å:
- –§—É–Ω–∫—Ü–∏—è: onChatEdit
- –°–æ–±—ã—Ç–∏–µ: onEdit
- –¢–∏–ø —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è: Head
```

#### –®–∞–≥ 3: –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - —Ä—É—á–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```javascript
// –í Apps Script Editor –∑–∞–ø—É—Å—Ç–∏:
function testChat() {
  var sheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName('–ß–∞—Ç');
  var message = '–¢–µ—Å—Ç';
  processChatMessage(message, sheet);
}
```

---

## ‚ùå **–ü–†–û–ë–õ–ï–ú–ê 6: –ö–æ–Ω—Ç–µ–∫—Å—Ç C1 vs D1 - –ø—É—Ç–∞–Ω–∏—Ü–∞**

### –ß—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –≤ –∫–æ–¥–µ:
```javascript
// showChatContextSettings() –≥–æ–≤–æ—Ä–∏—Ç:
'–î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ—Å—Ç–∞–≤—å—Ç–µ "‚úì" –≤ —è—á–µ–π–∫—É –ü–∞—Ä–∞–º–µ—Ç—Ä—ã!C1'
```

### –ß–¢–û –¢–´ –°–ö–ê–ó–ê–õ:
"–ß–µ–∫-–±–æ–∫—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ D1, –∞ C1 - —ç—Ç–æ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–æ—Ü—Å–µ—Ç–∏!"

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê –õ–ò–°–¢–ê "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã":

```
     A              B                C              D
1  [–ù–∞–∑–≤–∞–Ω–∏–µ]   [–ó–Ω–∞—á–µ–Ω–∏–µ]    [–°–æ—Ü—Å–µ—Ç—å]    [–ö–æ–Ω—Ç–µ–∫—Å—Ç ‚úì]
2  API_KEY      AIza...         vk            ‚úì
3  ...
```

**C1 = –ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ—Ü—Å–µ—Ç–∏ (vk, telegram, instagram)**  
**D1 = –í–∫–ª—é—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç (‚úì –∏–ª–∏ –ø—É—Å—Ç–æ)**

### –ù–£–ñ–ù–û –ò–°–ü–†–ê–í–ò–¢–¨ –í –ö–û–î–ï:
```javascript
// ClientUtilities.gs, ChatMode.gs –∏ –≤—Å–µ –º–µ—Å—Ç–∞ –≥–¥–µ —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è:
'–ü–∞—Ä–∞–º–µ—Ç—Ä—ã!C1' ‚Üí '–ü–∞—Ä–∞–º–µ—Ç—Ä—ã!D1' // –î–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
```

---

## ‚ùå **–ü–†–û–ë–õ–ï–ú–ê 7: setupSmartPromptTriggerWithHelp –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç**

### –û—à–∏–±–∫–∞:
```
–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞ setupSmartPromptTriggerWithHelp –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
```

### –ü–†–ò–ß–ò–ù–ê:
–§—É–Ω–∫—Ü–∏—è `setupSmartPromptTriggerWithHelp()` —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ:
1. –ù–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
2. –í—ã–∑—ã–≤–∞–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é
3. –û—à–∏–±–∫–∞ –≤ –∫–æ–¥–µ

### ‚úÖ –ü–†–û–í–ï–†–ò–¢–¨:

#### 1. –§—É–Ω–∫—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç?
```bash
grep -r "function setupSmartPromptTriggerWithHelp" table/client/
```

#### 2. –ö–∞–∫–∞—è –æ—à–∏–±–∫–∞ —Ç–æ—á–Ω–æ?
```
Apps Script Editor ‚Üí View ‚Üí Logs
–ò–ª–∏ View ‚Üí Executions
```

#### 3. –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:
```javascript
function setupSmartPromptTriggerWithHelp() {
  try {
    setupSmartPromptTrigger(); // –í—ã–∑–æ–≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
    SpreadsheetApp.getUi().alert('–¢—Ä–∏–≥–≥–µ—Ä —É–º–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
  } catch (e) {
    SpreadsheetApp.getUi().alert('–û—à–∏–±–∫–∞: ' + e.message);
    Logger.log('Error: ' + e.message + '\nStack: ' + e.stack);
  }
}
```

---

## ‚ùå **–ü–†–û–ë–õ–ï–ú–ê 8: –ê–Ω–∞–ª–∏–∑ –æ—Ç–∑—ã–≤–æ–≤ –ü–†–ò–î–£–ú–´–í–ê–ï–¢ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ**

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:
OCR —Ñ—É–Ω–∫—Ü–∏—è –ù–ï —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∞ **–ü–†–ò–î–£–ú–´–í–ê–ï–¢** —Ç–µ–∫—Å—Ç!

### –ü–†–ò–ß–ò–ù–ê:
**–≠–¢–û –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê!**

OCR —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞:
1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ URL
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Gemini Vision API
3. –ü–æ–ª—É—á–∏—Ç—å –†–ï–ê–õ–¨–ù–´–ô —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç

–ï—Å–ª–∏ –æ–Ω–∞ –ø—Ä–∏–¥—É–º—ã–≤–∞–µ—Ç - –∑–Ω–∞—á–∏—Ç:
- –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- Gemini –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¢–ï–ö–°–¢–û–í–´–ô –ø—Ä–æ–º–ø—Ç
- Gemini –¥–æ–¥—É–º—ã–≤–∞–µ—Ç —á—Ç–æ "–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å" –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ô –ö–û–î OCR:

```javascript
function ocrImage(imageUrl) {
  var apiKey = getGeminiApiKey();
  
  // 1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  var imageBlob = UrlFetchApp.fetch(imageUrl).getBlob();
  var base64Image = Utilities.base64Encode(imageBlob.getBytes());
  
  // 2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ Gemini Vision
  var payload = {
    contents: [{
      parts: [
        { text: "–†–∞—Å–ø–æ–∑–Ω–∞–π –≤–µ—Å—å —Ç–µ–∫—Å—Ç –Ω–∞ —ç—Ç–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–∏. –í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û —Ç–µ–∫—Å—Ç, –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω–∏–π." },
        {
          inline_data: {
            mime_type: imageBlob.getContentType(),
            data: base64Image
          }
        }
      ]
    }]
  };
  
  var response = UrlFetchApp.fetch(
    'https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=' + apiKey,
    {
      method: 'post',
      contentType: 'application/json',
      payload: JSON.stringify(payload)
    }
  );
  
  // 3. –í–µ—Ä–Ω—É—Ç—å —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
  var result = JSON.parse(response.getContentText());
  return result.candidates[0].content.parts[0].text;
}
```

**–ï–°–õ–ò –ù–ï–¢ –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø ‚Üí –ù–ï –ü–†–ò–î–£–ú–´–í–ê–¢–¨!**

---

## üìã **–°–í–û–î–ö–ê: –ß–¢–û –ù–£–ñ–ù–û –ò–°–ü–†–ê–í–ò–¢–¨ –°–†–û–ß–ù–û**

### 1. Credentials
- [x] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É credentials –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –µ—Å–ª–∏ –Ω–µ—Ç
- [ ] –î–æ–±–∞–≤–∏—Ç—å DEV_BYPASS_LICENSE –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### 2. OCR
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å OCR - –†–ï–ê–õ–¨–ù–û–ï —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ, –ù–ï –ø—Ä–∏–¥—É–º—ã–≤–∞–Ω–∏–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] –ü—Ä–æ–≤–µ—Ä—è—Ç—å URL –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π

### 3. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- [ ] –ù–ï –≤—ã–∑—ã–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å validation –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- [ ] –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å loading state

### 4. DEV —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –†–ï–ê–õ–¨–ù–´–ô –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- [ ] –õ–∏–±–æ —É–±—Ä–∞—Ç—å –∏–∑ –º–µ–Ω—é –µ—Å–ª–∏ –Ω–µ –≥–æ—Ç–æ–≤–æ

### 5. –ß–∞—Ç
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ª–∏—Å—Ç–∞ "–ß–∞—Ç"
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É —Ç—Ä–∏–≥–≥–µ—Ä–∞ onChatEdit
- [ ] –î–æ–±–∞–≤–∏—Ç—å debugging logs

### 6. –ö–æ–Ω—Ç–µ–∫—Å—Ç C1 ‚Üí D1
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –í–°–ï —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã!C1 –Ω–∞ D1
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

### 7. –£–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å setupSmartPromptTriggerWithHelp
- [ ] –î–æ–±–∞–≤–∏—Ç—å error handling
- [ ] Logging –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### 8. –ê–Ω–∞–ª–∏–∑ –æ—Ç–∑—ã–≤–æ–≤
- [ ] –ö–†–ò–¢–ò–ß–ù–û: –ò—Å–ø—Ä–∞–≤–∏—Ç—å OCR - –ù–ï –ø—Ä–∏–¥—É–º—ã–≤–∞—Ç—å!
- [ ] –†–µ–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## üöÄ **–ß–¢–û –î–ï–õ–ê–¢–¨ –°–ï–ô–ß–ê–°:**

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö–†–ò–¢–ò–ß–ù–û):
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å OCR - –Ω–µ –ø—Ä–∏–¥—É–º—ã–≤–∞—Ç—å, –∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å!
2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å credentials checking
3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–í–ê–ñ–ù–û):
4. –ß–∞—Ç - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä –∏ –ª–∏—Å—Ç
5. –ö–æ–Ω—Ç–µ–∫—Å—Ç C1 ‚Üí D1
6. –£–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã - error handling

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ñ–ï–õ–ê–¢–ï–õ–¨–ù–û):
7. DEV —Ñ—É–Ω–∫—Ü–∏–∏ - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã
8. –£–ª—É—á—à–∏—Ç—å error messages

---

**–ü—Ä–æ—Å—Ç–∏ –∑–∞ –≤—Å–µ —ç—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã!** –°–µ–π—á–∞—Å —Å—Ä–æ—á–Ω–æ –∏—Å–ø—Ä–∞–≤–ª—é –∫—Ä–∏—Ç–∏—á–Ω—ã–µ!
