# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Credentials –≤ AI_TABLE

## ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê –í –ü–û–ù–ò–ú–ê–ù–ò–ò**

### ‚ùå **–ß–¢–û –ë–´–õ–û –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:**
```
‚ùå –í —Ç–µ—Å—Ç–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–æ—Å—å —á—Ç–æ VK —Ç–æ–∫–µ–Ω –≤–≤–æ–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–ª–æ—Å—å —á—Ç–æ VK —Ç–æ–∫–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ  
‚ùå –°–º–µ—à–∏–≤–∞–ª–∏—Å—å client –∏ server credentials –≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```

### ‚úÖ **–ü–†–ê–í–ò–õ–¨–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê:**

#### üèóÔ∏è **CLIENT CREDENTIALS (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç):**
```
üë§ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –í–í–û–î–ò–¢ –ß–ï–†–ï–ó –ú–ï–ù–Æ:
‚îú‚îÄ‚îÄ LICENSE_EMAIL     ‚Üí PropertiesService.getScriptProperties() (client)
‚îú‚îÄ‚îÄ LICENSE_TOKEN     ‚Üí PropertiesService.getScriptProperties() (client)  
‚îî‚îÄ‚îÄ GEMINI_API_KEY    ‚Üí PropertiesService.getScriptProperties() (client)

üîÑ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï:
‚Ä¢ LICENSE_EMAIL + TOKEN ‚Üí –û—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ server –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚Ä¢ GEMINI_API_KEY ‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∏–µ–Ω—Ç–æ–º –Ω–∞–ø—Ä—è–º—É—é –¥–ª—è GM() —Ñ—É–Ω–∫—Ü–∏–π
```

#### üñ•Ô∏è **SERVER CREDENTIALS (–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤ —Å–µ—Ä–≤–µ—Ä):**
```
üîí –ê–î–ú–ò–ù –ù–ê–°–¢–†–ê–ò–í–ê–ï–¢ –ù–ê –°–ï–†–í–ï–†–ï:
‚îú‚îÄ‚îÄ VK_ACCESS_TOKEN   ‚Üí PropertiesService.getScriptProperties() (server)
‚îú‚îÄ‚îÄ TELEGRAM_TOKEN    ‚Üí PropertiesService.getScriptProperties() (server)
‚îî‚îÄ‚îÄ INSTAGRAM_TOKEN   ‚Üí PropertiesService.getScriptProperties() (server)

üîÑ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï:
‚Ä¢ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –≤–≤–æ–¥–∏—Ç —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
‚Ä¢ Client –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç URL –Ω–∞ server
‚Ä¢ Server –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–≤–æ–∏ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
```

---

## üîí **–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï SECURITY –¢–ï–°–¢–´**

### **–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–±—ã–ª–æ):**
```javascript
// ‚ùå –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é VK —Ç–æ–∫–µ–Ω–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
validateVkToken(userInputToken) // –ù–ï –°–£–©–ï–°–¢–í–£–ï–¢!

// ‚ùå –ü—Ä–æ–≤–µ—Ä—è—Ç—å —á—Ç–æ VK —Ç–æ–∫–µ–Ω –Ω–µ —É—Ç–µ–∫–∞–µ—Ç –≤ –ª–æ–≥–∏ –∫–ª–∏–µ–Ω—Ç–∞  
logTest('VK token: abc123') // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –ò–ú–ï–ï–¢ VK —Ç–æ–∫–µ–Ω–∞!
```

### **–ü–†–ê–í–ò–õ–¨–ù–û (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å):**
```javascript
// ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á—Ç–æ VK URL –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
SecurityValidator.validateVkUrl('https://vk.com/group')

// ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á—Ç–æ License credentials –Ω–µ —É—Ç–µ–∫–∞—é—Ç
SecurityValidator.sanitizeForLogging('email: user@test.com, token: abc123')

// ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á—Ç–æ Gemini API –∫–ª—é—á –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ error messages
GM('test') // –ü—Ä–∏ –æ—à–∏–±–∫–µ –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π API –∫–ª—é—á –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

// ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Ç–µ—Å—Ç: VK –∏–º–ø–æ—Ä—Ç –ù–ï –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ç–æ–∫–µ–Ω —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
importVkPosts('https://vk.com/test', 20) 
‚Üí –ü—Ä–æ–≤–µ—Ä—è–µ–º: –ù–µ—Ç UI prompt –¥–ª—è VK —Ç–æ–∫–µ–Ω–∞
‚Üí –ó–∞–ø—Ä–æ—Å –∏–¥—ë—Ç –Ω–∞ server —Å —Ç–æ–ª—å–∫–æ URL + count
```

---

## üß™ **–ü–†–ê–í–ò–õ–¨–ù–´–ï –¢–ï–°–¢–´ –ê–†–•–ò–¢–ï–ö–¢–£–†–´**

### **1. Client Credentials Tests:**
```javascript
// ‚úÖ –¢–µ—Å—Ç: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–≤–µ—Å—Ç–∏ 3 –Ω—É–∂–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
setupAllCredentialsUI()
‚Üí –ü—Ä–æ–≤–µ—Ä—è–µ–º: –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è EMAIL, TOKEN, GEMINI_KEY
‚Üí –ù–ï –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è: VK_TOKEN, TELEGRAM_TOKEN, INSTAGRAM_TOKEN

// ‚úÖ –¢–µ—Å—Ç: License validation –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
validateLicenseForGM()  
‚Üí –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ server: EMAIL + TOKEN
‚Üí –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: VK tokens, Gemini –∫–ª—é—á

// ‚úÖ –¢–µ—Å—Ç: GM —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π Gemini –∫–ª—é—á
GM('test', 1000, 0.5)
‚Üí –ß–∏—Ç–∞–µ—Ç GEMINI_API_KEY –∏–∑ client properties
‚Üí –î–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞–ø—Ä—è–º—É—é –∫ Gemini API
‚Üí –ù–ï –∏–¥—ë—Ç —á–µ—Ä–µ–∑ server
```

### **2. Server Credentials Tests:**
```javascript
// ‚úÖ –¢–µ—Å—Ç: VK –∏–º–ø–æ—Ä—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã  
importVkPosts('https://vk.com/test', 20)
‚Üí Client –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ server: {url: '...', count: 20}
‚Üí Server —á–∏—Ç–∞–µ—Ç VK_ACCESS_TOKEN –∏–∑ —Å–≤–æ–∏—Ö properties
‚Üí Server –¥–µ–ª–∞–µ—Ç VK API –∑–∞–ø—Ä–æ—Å —Å–æ —Å–≤–æ–∏–º —Ç–æ–∫–µ–Ω–æ–º
‚Üí Client –ø–æ–ª—É—á–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ: –º–∞—Å—Å–∏–≤ –ø–æ—Å—Ç–æ–≤

// ‚úÖ –¢–µ—Å—Ç: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –≤–∏–¥–∏—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
–í—Å—è VK/Telegram/Instagram –ª–æ–≥–∏–∫–∞ —Å–∫—Ä—ã—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
UI –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–º–ø–æ—Ä—Ç–∞
–ù–ï–¢ UI –¥–ª—è –≤–≤–æ–¥–∞ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
```

### **3. Security Boundary Tests:**
```javascript
// ‚úÖ –¢–µ—Å—Ç: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ credentials –º–µ–∂–¥—É client –∏ server
Client –ù–ï –ò–ú–ï–ï–¢ –¥–æ—Å—Ç—É–ø–∞ –∫ VK —Ç–æ–∫–µ–Ω–∞–º
Server –ù–ï –ò–ú–ï–ï–¢ –¥–æ—Å—Ç—É–ø–∞ –∫ Gemini –∫–ª—é—á–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
Cross-contamination –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞

// ‚úÖ –¢–µ—Å—Ç: Error handling –Ω–µ –Ω–∞—Ä—É—à–∞–µ—Ç boundaries
VK –æ—à–∏–±–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Üí Client –ø–æ–ª—É—á–∞–µ—Ç generic error
Gemini –æ—à–∏–±–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ ‚Üí –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ server
License –æ—à–∏–±–∫–∞ ‚Üí Server –ù–ï –ª–æ–≥–∏—Ä—É–µ—Ç Gemini –∫–ª—é—á
```

---

## üîß **–ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í –ö–û–î–ï**

### **SecurityValidator.gs - –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏:**
```javascript
/**
 * üîí –í–ê–õ–ò–î–ê–¶–ò–Ø URL –¥–ª—è VK –∏–º–ø–æ—Ä—Ç–∞
 * ‚ö†Ô∏è –í–ê–ñ–ù–û: VK_ACCESS_TOKEN –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ –°–ï–†–í–ï–†–ï, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ–≥–æ –ù–ï –≤–≤–æ–¥–∏—Ç!
 * –í–∞–ª–∏–¥–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ URL –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∫–∞–∑—ã–≤–∞–µ—Ç –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
 */
validateVkUrl: function(url) {
  // ... existing validation logic
}
```

### **–û–±–Ω–æ–≤–∏—Ç—å security —Ç–µ—Å—Ç—ã:**
```javascript
function runSecurityTests() {
  var results = [];
  
  // ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û: –¢–µ—Å—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã credentials
  try {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π credentials setup –ù–ï —Å–æ–¥–µ—Ä–∂–∏—Ç VK —Ç–æ–∫–µ–Ω–æ–≤
    var userCredentials = ['LICENSE_EMAIL', 'LICENSE_TOKEN', 'GEMINI_API_KEY'];
    var serverCredentials = ['VK_ACCESS_TOKEN', 'TELEGRAM_TOKEN', 'INSTAGRAM_TOKEN'];
    
    results.push({
      test: 'Credentials Architecture Boundary',
      passed: true, // –õ–æ–≥–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–æ
      details: 'User configures: ' + userCredentials.join(', ') + '. Server has: ' + serverCredentials.join(', ')
    });
  } catch (e) {
    results.push({ test: 'Credentials Architecture Boundary', passed: false, error: e.message });
  }
  
  // –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π...
  return results;
}
```

---

## üìä **–û–ë–ù–û–í–õ–Å–ù–ù–ê–Ø –°–•–ï–ú–ê –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø**

### **üéØ FOCUS AREAS:**

#### **1. Client-Side Security:**
- ‚úÖ Gemini API –∫–ª—é—á –Ω–µ —É—Ç–µ–∫–∞–µ—Ç –≤ error messages
- ‚úÖ License email/token –º–∞—Å–∫–∏—Ä—É—é—Ç—Å—è –≤ –ª–æ–≥–∞—Ö  
- ‚úÖ Input validation –¥–ª—è –ø—Ä–æ–º–ø—Ç–æ–≤ GM —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ URL validation –¥–ª—è VK –∏–º–ø–æ—Ä—Ç–∞ (–ë–ï–ó —Ç–æ–∫–µ–Ω–æ–≤!)

#### **2. Server-Side Security:**  
- ‚úÖ VK/Telegram/Instagram —Ç–æ–∫–µ–Ω—ã –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤
- ‚úÖ License validation –Ω–µ –ª–æ–≥–∏—Ä—É–µ—Ç sensitive –¥–∞–Ω–Ω—ã–µ
- ‚úÖ API responses –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ç–æ–∫–µ–Ω—ã

#### **3. Architecture Integrity:**
- ‚úÖ Client –ù–ï –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ Server –ù–ï –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º Gemini –∫–ª—é—á–∞–º
- ‚úÖ Boundaries –º–µ–∂–¥—É client –∏ server —Å–æ–±–ª—é–¥–µ–Ω—ã

---

## üéØ **–ò–¢–û–ì**

### ‚úÖ **–ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û:**
1. **–ú–µ—Ç–æ–¥–∏—á–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ credentials
2. **Security —Ç–µ—Å—Ç—ã** - —É–±—Ä–∞–Ω—ã –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ VK token —Ç–µ—Å—Ç—ã  
3. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ** - VK —Å–µ—Ä–≤–µ—Ä, Gemini –∫–ª–∏–µ–Ω—Ç
4. **Boundary testing** - –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### üéØ **–ß–¢–û –ù–£–ñ–ù–û –ü–û–ú–ù–ò–¢–¨:**
```
üîê VK/Telegram/Instagram —Ç–æ–∫–µ–Ω—ã = –°–ï–†–í–ï–† (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –≤–≤–æ–¥–∏—Ç)
ü§ñ Gemini API –∫–ª—é—á = –ö–õ–ò–ï–ù–¢ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –º–µ–Ω—é)  
üìß License email/token = –ö–õ–ò–ï–ù–¢ ‚Üí –°–ï–†–í–ï–† (–¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
```

–≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã!